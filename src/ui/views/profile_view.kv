<ProfileView>:
    size_hint: 1, 1
    orientation: "vertical"
    AnchorLayout:
        anchor_y: "center"
        size_hint: 1, 1
        padding: [10, 10, 10, 10]
        BoxLayout:
            size_hint: 0.75, 1  # Allow height to adjust dynamically
            orientation: "vertical"
            height: self.minimum_height  # Adjust height based on children
            padding: [0, 10, 0, 0]
            spacing: 5  # Space between rows

            # Row: Profile Name
            BoxLayout:
                size_hint_x: 1
                size_hint_y: None
                height: 40  # Set a fixed height for consistent alignment
                padding: [5, 5]
                Label:
                    size_hint: None, None
                    pos_hint: {"center_y": 0.6}
                    size: self.texture_size
                    bold: True
                    font_size: 22
                    text: "Profile Name:  "
                EditableLabel:
                    id: edit_profile
                    font_size: 14
                    bold: True
                    size_hint_x: None
                    text: root.profile_name
                    on_commit: root.update_profile_name(self.text)
                HoverableButton:
                    size_hint: None, None
                    text: "\uf88d"
                    font_size: "32sp"
                    pos_hint: {"center_y": 0.7}
                    size: 32, 32
                    font_name: app.font_path_extralight
                    change_cursor_on_hover: True
                    hover_callback: lambda widget, state: self.change_font_path_callback(root, widget, state)
                    on_press: if not edit_profile.text_input: edit_profile.convert_to_text_input()


            # Row: Data Scan Destinations
            BoxLayout:
                size_hint_x: 1
                size_hint_y: None
                height: 40
                padding: [5, 5]
                BoxLayout:
                    size_hint_x: 0.5
                    spacing: 10
                    Label:
                        size_hint: None, None
                        pos_hint: {"center_y": 0.5}
                        size: self.texture_size
                        bold: True
                        text: "Data Scan Destinations:"
                    HoverableButton:
                        size_hint: None, None
                        text: "\uf756"
                        font_size: "32sp"
                        size: 32, 32
                        font_name: app.font_path_extralight
                        change_cursor_on_hover: True
                        hover_callback: lambda widget, state: self.change_font_path_callback(root, widget, state)
                BoxLayout:
                    size_hint_x: 0.5
                    spacing: 5
                    Label:
                        size_hint: None, None
                        pos_hint: {"center_y": 0.5}
                        size: self.texture_size
                        bold: True
                        text: "Monthly Income: "
                    EditableLabel:
                        id: monthly_income
                        font_size: 14
                        size_hint_x: None
                        width: 300
                        text: root.monthly_income
                        on_commit: root.update_income(self.text)
                    HoverableButton:
                        size_hint: None, None
                        text: "\uf88d"
                        font_size: "32sp"
                        size: 32, 32
                        font_name: app.font_path_extralight
                        change_cursor_on_hover: True
                        hover_callback: lambda widget, state: self.change_font_path_callback(root, widget, state)
                        on_press: if not monthly_income.text_input: monthly_income.convert_to_text_input()
            # Row: Categories
            BoxLayout:
                orientation: 'vertical'
                height: 40
                padding: [5, 5]
                spacing: 10
                size_hint_y: None
                height: self.minimum_height
                BoxLayout:
                    orientation: "horizontal"
                    height: self.minimum_height
                    size_hint_y: None
                    Label:
                        size_hint: None, None
                        pos_hint: {"center_y": 0.5}
                        size: self.texture_size
                        text: "Categories: "
                        bold: True
                    HoverableButton:
                        size_hint: None, None
                        text: "\ue146"
                        font_size: "32sp"
                        size: 32, 32
                        pos_hint: {"center_y": 0.5}
                        font_name: app.font_path_extralight
                        change_cursor_on_hover: True
                        hover_callback: lambda widget, state: self.change_font_path_callback(root, widget, state)
                CategoryLegend:
                        
            
            # Budget
            BoxLayout:
                id: budget_view